# Day 6

Aparently, the problem of 100% CPU usage was in network.c, in a enet_host_service. Passing a parameter greater than 0 solved the problem.

```c
enet_host_service(game->networking.client, &game->networking.event, 30);
```

I organized the headers: one for the server, one for the client and one for exchangeable data that both client and server should known.

	$ ls -1 include/
	exchangeable.h
	game.h
	server.h

Also, a separated network.c file for server, like client has, and an empty world.c file for operations to update the world, making use of Box2D.

	ls -1 src/server/
	main.c
	network.c
	world.c

Now server has a struct Server like client has a struct Game.

```c
#define MAX_PLAYERS 8

struct ServerNetworking
{
	ENetHost *host;
	ENetAddress address;
	ENetEvent event;
};

struct Server
{
	struct ServerNetworking networking;
	struct ExchangeblePlayer player_pool[MAX_PLAYERS];
};
```